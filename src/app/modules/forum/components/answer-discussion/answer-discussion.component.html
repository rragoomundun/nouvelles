<hr />

<form [formGroup]="answerForm" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label for="message" class="form-label">
      {{ "DISCUSSION_PAGE.ANSWER_DISCUSSION" | translate }}
    </label>
    <textarea
      id="message"
      class="form-control"
      cols="30"
      rows="10"
      formControlName="message"
      required
    ></textarea>
  </div>

  <div class="text-end">
    @if (["false", "success", "error"].includes(onAnswer)) {
      <button
        [disabled]="isFormValid === false"
        class="btn btn-primary"
        type="submit"
      >
        {{ "DISCUSSION_PAGE.ANSWER" | translate }}
      </button>
    }

    @if (onAnswer === "true") {
      <button [disabled]="true" type="submit" class="btn btn-primary">
        <span class="fa-solid fa-spinner fa-spin"></span>
        {{ "DISCUSSION_PAGE.ANSWERING" | translate }}
      </button>
    }
  </div>

  @if (onAnswer === "error") {
    <div class="text-end text-danger mt-3">
      <span>{{ "DISCUSSION_PAGE.ERRORS.ANSWERING" | translate }}</span>
    </div>
  }
</form>
