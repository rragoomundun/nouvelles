import{a as N}from"./chunk-IMOJ64MV.js";import{b as D,c as F,d as M,e as G,f as L,g as T,h as B,j as V,k,q as W}from"./chunk-RD55HKQO.js";import{a as y}from"./chunk-HWW6DXAF.js";import{A as _,Ea as d,Fa as P,Ga as u,Ia as g,La as R,Pa as a,Qa as s,T as i,W as f,X as C,Y as x,Ya as U,db as $,fb as z,ga as w,gb as I,ha as h,hb as j,ib as H,la as m,ma as n,mb as O,na as o,nb as A,oa as c,ua as b,wa as E}from"./chunk-4DZUCNSY.js";var ie=()=>["/"],oe=()=>["false","error"];function re(e,t){if(e&1&&(n(0,"button",12),d(1),a(2,"translate"),o()),e&2){let S=E();m("disabled",S.isPasswordForgottenFormValid===!1),i(),u(" ",s(2,2,"FORMS.VALIDATE")," ")}}function ne(e,t){e&1&&(n(0,"button",12),c(1,"span",15),d(2),a(3,"translate"),o()),e&2&&(m("disabled",!0),i(2),u(" ",s(3,2,"FORMS.VALIDATION")," "))}function ae(e,t){e&1&&(n(0,"span",13),c(1,"span",16),d(2),a(3,"translate"),o()),e&2&&(i(2),u(" ",s(3,1,"PASSWORD_FORGOTTEN_PAGE.EMAIL_SENT")," "))}function se(e,t){if(e&1&&(n(0,"div",14)(1,"span"),d(2),a(3,"translate"),o()()),e&2){let S=E();i(2),P(s(3,1,S.passwordForgottenError))}}var J=(()=>{let t=class t{constructor(l,r){this.appSharedService=l,this.authService=r,this.appSharedService.setTitle("PASSWORD_FORGOTTEN_PAGE.TITLE"),this.passwordForgottenForm=new L({email:new T("",[F.required])}),this.onPasswordForgotten="false"}get isPasswordForgottenFormValid(){return this.passwordForgottenForm.valid}onSubmit(){this.onPasswordForgotten="true",this.authService.passwordForgotten(this.passwordForgottenForm.value).subscribe({complete:()=>this.onPasswordForgotten="success",error:l=>{let{type:r}=l.error;this.onPasswordForgotten="error",r&&(this.passwordForgottenError=`PASSWORD_FORGOTTEN_PAGE.ERRORS.${r}`)}})}};t.\u0275fac=function(r){return new(r||t)(f(y),f(N))},t.\u0275cmp=C({type:t,selectors:[["app-password-forgotten"]],decls:26,vars:19,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-8"],[1,"card"],[1,"card-body"],[1,"card-title","app-logo"],[3,"routerLink"],[3,"ngSubmit","formGroup"],[1,"input-group","mb-3"],[1,"input-group-text"],[1,"fa-regular","fa-envelope"],["id","email","type","email","formControlName","email",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-success"],[1,"text-danger","mt-3"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"fa-regular","fa-circle-check"]],template:function(r,p){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5)(6,"a",6),d(7),a(8,"translate"),o()(),n(9,"p"),d(10),a(11,"translate"),o(),c(12,"hr"),n(13,"p"),d(14),a(15,"translate"),o(),n(16,"form",7),b("ngSubmit",function(){return p.onSubmit()}),n(17,"div",8)(18,"span",9),c(19,"span",10),o(),c(20,"input",11),a(21,"translate"),o(),w(22,re,3,4,"button",12)(23,ne,4,4,"button",12)(24,ae,4,3,"span",13),w(25,se,4,3,"div",14),o()()()()()()),r&2&&(i(6),m("routerLink",R(17,ie)),i(),P(s(8,9,"GENERAL.TITLE")),i(3),u(" ",s(11,11,"PASSWORD_FORGOTTEN_PAGE.TITLE")," "),i(4),u(" ",s(15,13,"PASSWORD_FORGOTTEN_PAGE.DESCRIPTION")," "),i(2),m("formGroup",p.passwordForgottenForm),i(4),m("placeholder",g(s(21,15,"FORMS.EMAIL"))),i(2),h(R(18,oe).includes(p.onPasswordForgotten)?22:p.onPasswordForgotten==="true"?23:p.onPasswordForgotten==="success"?24:-1),i(3),h(p.onPasswordForgotten==="error"?25:-1))},dependencies:[W,B,D,M,G,V,k,I,A,O],styles:[".col-12.col-md-8[_ngcontent-%COMP%]{margin:auto}.card-body[_ngcontent-%COMP%]{text-align:center}"]});let e=t;return e})();var pe=()=>["/"],de=()=>["false","error"];function le(e,t){if(e&1&&(n(0,"button",13),d(1),a(2,"translate"),o()),e&2){let S=E();m("disabled",S.isPasswordResetFormValid===!1),i(),u(" ",s(2,2,"FORMS.VALIDATE")," ")}}function me(e,t){e&1&&(n(0,"button",13),d(1),a(2,"translate"),o()),e&2&&(m("disabled",!0),i(),u(" ",s(2,2,"FORMS.VALIDATION")," "))}function ce(e,t){e&1&&(n(0,"span",14),c(1,"span",16),d(2),a(3,"translate"),o()),e&2&&(i(2),u(" ",s(3,1,"PASSWORD_RESET_PAGE.PASSWORD_MODIFIED")," "))}function ue(e,t){if(e&1&&(n(0,"div",15)(1,"span"),d(2),a(3,"translate"),o()()),e&2){let S=E();i(2),P(s(3,1,S.passwordResetError))}}var K=(()=>{let t=class t{constructor(l,r,p,v,X){this.router=l,this.activatedRoute=r,this.appSharedService=p,this.authService=v,this.userSharedService=X,this.appSharedService.setTitle("PASSWORD_RESET_PAGE.TITLE"),this.passwordResetForm=new L({password:new T("",[F.required]),repeatPassword:new T("",[F.required])}),this.onPasswordReset="false"}get isPasswordResetFormValid(){return this.passwordResetForm.valid}onSubmit(){let l=this.activatedRoute.snapshot.paramMap.get("resetPasswordToken"),r={password:this.passwordResetForm.value.password,repeatedPassword:this.passwordResetForm.value.repeatPassword};this.onPasswordReset="true",this.authService.resetPassword(r,l).subscribe({complete:()=>{this.onPasswordReset="success",this.userSharedService.setUser(),setTimeout(()=>this.router.navigate(["/"]),3e3)},error:p=>{let{type:v}=p.error;this.onPasswordReset="error",v&&(this.passwordResetError=`PASSWORD_RESET_PAGE.ERRORS.${v}`)}})}};t.\u0275fac=function(r){return new(r||t)(f(z),f($),f(y),f(N),f(H))},t.\u0275cmp=C({type:t,selectors:[["app-password-reset"]],decls:28,vars:20,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-8"],[1,"card"],[1,"card-body"],[1,"card-title","app-logo"],[3,"routerLink"],[3,"ngSubmit","formGroup"],[1,"input-group","mb-3"],[1,"input-group-text"],[1,"fa-solid","fa-lock"],["id","password","type","password","formControlName","password",1,"form-control",3,"placeholder"],["id","password","type","password","formControlName","repeatPassword",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-success"],[1,"text-danger","mt-3"],[1,"fa-regular","fa-circle-check"]],template:function(r,p){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5)(6,"a",6),d(7),a(8,"translate"),o()(),n(9,"p"),d(10),a(11,"translate"),o(),c(12,"hr"),n(13,"form",7),b("ngSubmit",function(){return p.onSubmit()}),n(14,"div",8)(15,"span",9),c(16,"span",10),o(),c(17,"input",11),a(18,"translate"),o(),n(19,"div",8)(20,"span",9),c(21,"span",10),o(),c(22,"input",12),a(23,"translate"),o(),w(24,le,3,4,"button",13)(25,me,3,4,"button",13)(26,ce,4,3,"span",14),w(27,ue,4,3,"div",15),o()()()()()()),r&2&&(i(6),m("routerLink",R(18,pe)),i(),P(s(8,10,"GENERAL.TITLE")),i(3),u(" ",s(11,12,"PASSWORD_RESET_PAGE.TITLE")," "),i(3),m("formGroup",p.passwordResetForm),i(4),m("placeholder",g(s(18,14,"FORMS.PASSWORD"))),i(5),m("placeholder",g(s(23,16,"FORMS.REPEAT_PASSWORD"))),i(2),h(R(19,de).includes(p.onPasswordReset)?24:p.onPasswordReset==="true"?25:26),i(3),h(p.onPasswordReset==="error"?27:-1))},dependencies:[I,W,B,D,M,G,V,k,A,O],styles:[".col-12.col-md-8[_ngcontent-%COMP%]{margin:auto}.card-body[_ngcontent-%COMP%]{text-align:center}"]});let e=t;return e})();var fe=[{path:"mot-de-passe-oublie",component:J},{path:"mot-de-passe/reinitialiser/:resetPasswordToken",component:K},{path:"**",redirectTo:""}],Q=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=x({type:t}),t.\u0275inj=_({imports:[j.forChild(fe),j]});let e=t;return e})();var Ae=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=x({type:t}),t.\u0275inj=_({imports:[U,Q]});let e=t;return e})();export{Ae as AuthModule};
